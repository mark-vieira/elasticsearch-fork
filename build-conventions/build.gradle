/*
 * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one
 * or more contributor license agreements. Licensed under the Elastic License
 * 2.0 and the Server Side Public License, v 1; you may not use this file except
 * in compliance with, at your election, the Elastic License 2.0 or the Server
 * Side Public License, v 1.
 */

plugins {
    id 'java-gradle-plugin'
    id 'groovy'
    id 'java-test-fixtures'
}

group = "org.elasticsearch"

// TODO fix these settings to be global for the es build
targetCompatibility = '11'
sourceCompatibility = '11'

gradlePlugin {
    // We already configure publication and we don't need or want the one that comes
    // with the java-gradle-plugin
    automatedPublishing = false
    plugins {
        publish {
            id = 'elasticsearch.publish'
            implementationClass = 'org.elasticsearch.gradle.internal.conventions.PublishPlugin'
        }
    }
}

repositories {
    mavenCentral()
    gradlePluginPortal()
}

dependencies {
    api 'org.apache.maven:maven-model:3.6.2'
    api 'gradle.plugin.com.github.jengelman.gradle.plugins:shadow:7.0.0'
}